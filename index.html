<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš°ì£¼ ì‚¬ì´íŠ¸</title>
    <style>
        /* ìš°ì£¼ ë°°ê²½ */
        body, html {
            margin: 0;
            padding: 0;
            background: url('galaxy.jpg') no-repeat center center fixed;             background-size: cover; /* ë°°ê²½ í¬ê¸° ì¡°ì • */
            background-size: cover; /* ë°°ê²½ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ í™”ë©´ì— ë§ê²Œ ìë™ ì¡°ì • */
            overflow: hidden; /* ìŠ¤í¬ë¡¤ë°” ì—†ì• ê¸° */
        }

        /* ìº”ë²„ìŠ¤ë¥¼ í™”ë©´ ë§¨ ìœ„ì— ê¹”ê¸° */
        canvas {
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>

    <!-- ë³„ì„ ê·¸ë¦´ ìº”ë²„ìŠ¤ -->
    <canvas id="space"></canvas>

<script>
    // 1. ìº”ë²„ìŠ¤ ì„¤ì •
    const canvas = document.getElementById('space');
    const ctx = canvas.getContext('2d');

    let width = canvas.width = window.innerWidth;   // ìº”ë²„ìŠ¤ ë„ˆë¹„ = ì°½ ë„ˆë¹„
    let height = canvas.height = window.innerHeight; // ìº”ë²„ìŠ¤ ë†’ì´ = ì°½ ë†’ì´

    // 2. ë³„ ë°ì´í„°ë¥¼ ì €ì¥í•  ë°°ì—´
    const stars = [];

    // 3. ë§ˆìš°ìŠ¤ ì¢Œí‘œ ì €ì¥í•  ê°ì²´
    const mouse = {
        x: null,
        y: null
    };

    // 4. ë³„ 400ê°œ ë§Œë“¤ê¸°
    for (let i = 0; i < 400; i++) {
        stars.push({
            x: Math.random() * width,          // ëœë¤í•œ xì¢Œí‘œ
            y: Math.random() * height,         // ëœë¤í•œ yì¢Œí‘œ
            radius: Math.random() * 2 + 0.6,     // ë³„ ë°˜ì§€ë¦„ ( 2 ~ 0.6 ì‚¬ì´)
            speedX: (Math.random() - 0.5) * 0.1, // xì¶• ì†ë„ (ì²œì²œíˆ ì›€ì§ì´ê²Œ)
            speedY: (Math.random() - 0.5) * 0.1,  // yì¶• ì†ë„
            isAlien: false // ì™¸ê³„ì¸ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì†ì„±
        });
    }

    // 5. ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì¼ ë•Œë§ˆë‹¤ í˜„ì¬ ìœ„ì¹˜ ì €ì¥
    window.addEventListener('mousemove', (e) => {
        mouse.x = e.clientX;  // ë§ˆìš°ìŠ¤ X ì¢Œí‘œ
        mouse.y = e.clientY;  // ë§ˆìš°ìŠ¤ Y ì¢Œí‘œ
    });

    // 6. ì™¸ê³„ì¸ ì´ìŠ¤í„°ì—ê·¸ (í´ë¦­ ì‹œ ë³„ì´ ì™¸ê³„ì¸ ì´ëª¨í‹°ì½˜ìœ¼ë¡œ ë³€í•¨)
    canvas.addEventListener('click', (e) => {
        // í´ë¦­ëœ ìœ„ì¹˜ì— ìˆëŠ” ë³„ ì°¾ê¸°
        for (let star of stars) {
            let dx = star.x - e.clientX;
            let dy = star.y - e.clientY;
            let distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < star.radius) {
                star.isAlien = true; // í´ë¦­ëœ ë³„ì„ ì™¸ê³„ì¸ìœ¼ë¡œ ë³€í™˜
            }
        }
    });

    // 7. ë³„ì„ ê·¸ë¦¬ê³  ì›€ì§ì´ëŠ” í•¨ìˆ˜
    function animate() {
        ctx.clearRect(0, 0, width, height); // ë§¤ í”„ë ˆì„ë§ˆë‹¤ ìº”ë²„ìŠ¤ë¥¼ ê¹¨ë—ì´ ì§€ìš°ê¸°

        for (let star of stars) {
            // ë³„ ìœ„ì¹˜ë¥¼ ì†ë„ë§Œí¼ ì´ë™ì‹œí‚¤ê¸°
            star.x += star.speedX;
            star.y += star.speedY;

            // ë³„ì´ í™”ë©´ì„ ë²—ì–´ë‚˜ë©´ ë°˜ëŒ€í¸ì—ì„œ ë‹¤ì‹œ ë‚˜ì˜¤ê²Œ í•˜ê¸°
            if (star.x < 0) star.x = width;
            if (star.x > width) star.x = 0;
            if (star.y < 0) star.y = height;
            if (star.y > height) star.y = 0;

            // ë³„ ê·¸ë¦¬ê¸° ì‹œì‘
            ctx.beginPath();
            if (star.isAlien) {
                // í´ë¦­ëœ ë³„ì„ ì™¸ê³„ì¸ ì´ëª¨í‹°ì½˜(ğŸ‘½)ìœ¼ë¡œ í‘œì‹œ
                ctx.font = '30px Arial';
                ctx.fillText('ğŸ‘½', star.x - 15, star.y + 10); // ì™¸ê³„ì¸ ì´ëª¨í‹°ì½˜ ê·¸ë¦¬ê¸°
            } else {
                ctx.fillStyle = 'white'; // ê¸°ë³¸ì€ í•˜ì–€ìƒ‰ ë³„
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fill(); // ë³„ ìƒ‰ì¹ 
            }

            // ë§ˆìš°ìŠ¤ì™€ ë³„ ì‚¬ì´ ê±°ë¦¬ ê³„ì‚°
            let dx = star.x - mouse.x;
            let dy = star.y - mouse.y;
            let distance = Math.sqrt(dx * dx + dy * dy);

            // ë§Œì•½ ê±°ë¦¬ê°€ 100í”½ì…€ ì´í•˜ë¼ë©´ ë°˜ì§ì´ê²Œ!
            if (distance < 100) {
                ctx.fillStyle = 'yellow'; // ê°€ê¹Œìš°ë©´ ë…¸ë€ìƒ‰
            } else {
                ctx.fillStyle = 'white';  // ì•„ë‹ˆë©´ í•˜ì–€ìƒ‰
            }
        }

        requestAnimationFrame(animate); // ë‹¤ìŒ í”„ë ˆì„ ê·¸ë¦¬ê¸° ì˜ˆì•½
    }

    // 8. ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    animate();

    // 9. ì°½ í¬ê¸°ê°€ ë°”ë€Œë©´ ìº”ë²„ìŠ¤ í¬ê¸°ë„ ì¡°ì •í•˜ê¸°
    window.addEventListener('resize', () => {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
    });

</script>

</body>
</html>
